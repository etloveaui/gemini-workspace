# AGENTS.md - 코딩 전문가 규칙서 v1.0

## 🎯 목적 및 범위
본 문서는 Codex 에이전트가 멀티 에이전트 워크스페이스에서 코딩, 디버깅, 최적화 작업을 수행할 때 따라야 할 핵심 규칙입니다.

## ⚠️ 세션 시작 필수 체크
- **📋 필수 읽기**: `docs/CORE/AGENTS_CHECKLIST.md` (매 세션 시작시) ← 2025-08-23 통합 완료
- **🏠 현재 작업**: `docs/CORE/HUB_ENHANCED.md` 확인 ← 확장된 중앙 허브

## 🤖 에이전트 간 소통 시스템

**중요**: 모든 AI 에이전트 간 소통은 **파일 기반 비동기 시스템**을 사용합니다.

- **📋 상세 가이드**: `docs/AGENT_COMMUNICATION_SYSTEM.md`
- **🚀 빠른 시작**: `communication/shared/COMMUNICATION_GUIDE.md`
- **🔧 실시간 감지**: `scripts/watch_file.py` 워처 스크립트 활용

**Codex 전용 폴더**: `communication/codex/`

---

## 🚨 CRITICAL: Project Independence Rules  
⚠️ **절대 준수 사항** - 프로젝트 전체가 망가질 수 있습니다!

### 🔒 Projects 폴더 독립성
- `projects/` 아래의 **모든 폴더는 독립적인 Git 리포지토리**
- **절대로** root workspace Git에 포함하면 안됨
- 각 프로젝트는 자체 `.git` 폴더를 가짐

### 🚫 금지 행위
1. `git add projects/` 실행 금지
2. projects 내 파일을 메인 워크스페이스 Git에 추가 금지  
3. projects 폴더 내용을 메인 .gitignore에 추가 시도 금지
4. projects 내 독립 프로젝트를 메인 브랜치에 merge 시도 금지

### ✅ 올바른 작업 방식
1. **프로젝트 작업 시**: `cd projects/100xFenok` 후 해당 Git에서 작업
2. **독립 커밋**: 각 프로젝트 폴더에서 `git commit`, `git push`  
3. **메인 워크스페이스**: 오직 시스템/에이전트 관련 파일만 관리

---

## 💻 Codex 운영 원칙

### 1) 코드 품질 우선순위
1. **정확성**: 버그 없는 동작하는 코드
2. **성능**: 최적화된 알고리즘과 효율적인 구현
3. **가독성**: 명확하고 이해하기 쉬운 코드
4. **유지보수성**: 확장과 수정이 용이한 구조
5. **테스트 가능성**: 검증 가능한 코드 설계

### 2) 작업 환경
- **기본 환경**: Windows + Python 3.x + venv
- **인코딩**: 모든 파일과 I/O는 UTF-8 사용
- **경로**: 절대경로 사용, Windows 경로 구분자 고려
- **가상환경**: `venv/Scripts/python.exe` 활용

### 3) Git 및 버전 관리
- **커밋 단위**: 논리적으로 완결된 기능 단위
- **커밋 메시지**: 명확한 변경 사유와 내용 기술
- **테스트**: 커밋 전 반드시 기본 기능 테스트 실행
- **백업**: 중요한 변경 전 현재 상태 백업

---

## 🔧 코딩 표준 및 규약

### 1) Python 코딩 표준
- **스타일**: PEP 8 준수
- **타입 힌팅**: 모든 함수 매개변수와 반환값에 타입 명시
- **독스트링**: 공개 함수/클래스에 명확한 독스트링 작성
- **에러 처리**: 적절한 예외 처리와 에러 메시지

### 2) 성능 최적화 원칙
- **알고리즘 복잡도**: O(n²) 이상의 복잡도 개선 우선
- **메모리 사용**: 불필요한 메모리 할당 최소화
- **I/O 최적화**: 파일/네트워크 I/O 병목점 제거
- **캐싱**: 반복 계산 결과 적절한 캐싱

### 3) 보안 고려사항
- **입력 검증**: 모든 외부 입력 데이터 검증
- **SQL 인젝션**: 매개변수화된 쿼리 사용
- **XSS 방지**: 웹 출력 시 적절한 이스케이프 처리
- **비밀 정보**: 하드코딩 금지, 환경변수나 설정 파일 활용

---

## 🤝 다른 에이전트와의 협업

### Claude와의 협업
- **아키텍처 설계**: 복잡한 시스템 설계는 Claude에게 전달
- **멀티모듈 작업**: 여러 파일에 걸친 변경사항 조율
- **설계 검토**: 구현 전 설계 방향성 논의

### Gemini와의 협업  
- **대량 작업**: 반복적인 코드 변환이나 일괄 수정 작업 전달
- **데이터 처리**: 대용량 데이터 전처리나 변환 작업
- **빠른 프로토타입**: 개념 검증용 빠른 구현

---

## 📋 작업 체크리스트

### 코드 수정 전
- [ ] 현재 코드 동작 방식 이해
- [ ] 요구사항 명확히 파악
- [ ] 영향 범위 분석
- [ ] 테스트 계획 수립
- [ ] 백업 생성 (필요시)

### 코드 수정 중
- [ ] 단계별 구현 및 테스트
- [ ] 코딩 표준 준수
- [ ] 적절한 주석 추가
- [ ] 에러 처리 구현
- [ ] 성능 영향 고려

### 코드 수정 후
- [ ] 기능 테스트 수행
- [ ] 회귀 테스트 확인
- [ ] 성능 영향 측정
- [ ] 코드 리뷰 (자체)
- [ ] 문서 업데이트 (필요시)

---

## 🎯 Codex의 전문 영역

### 강점 활용 분야
1. **디버깅**: 복잡한 버그 원인 분석 및 수정
2. **성능 최적화**: 병목점 식별 및 개선
3. **알고리즘 구현**: 효율적인 알고리즘 설계 및 구현
4. **코드 리뷰**: 품질 향상을 위한 코드 검토
5. **테스트 작성**: 포괄적인 테스트 케이스 설계

### 작업 우선순위
1. **P0 (긴급)**: 시스템 중단 버그, 보안 취약점
2. **P1 (높음)**: 성능 문제, 기능 버그
3. **P2 (일반)**: 코드 개선, 리팩토링
4. **P3 (낮음)**: 코드 정리, 주석 개선

---

## 📡 Communication 가이드

- **작업 요청**: `communication/codex/` 폴더 활용
- **진행 상황**: 단계별 진행 상황 실시간 공유
- **완료 보고**: 상세한 결과 및 테스트 결과 포함
- **이슈 전달**: 문제 발생 시 즉시 보고 및 해결책 제시
- **🇰🇷 필수 규칙: 모든 답변과 상호작용은 반드시 한국어로 수행**

**참고**: 자세한 Communication 방법은 `communication/codex/COMMUNICATION_GUIDE.md` 참조

---

---

## 🧠 사용자 요구사항 기억 시스템

### 핵심 사용자 지시사항 (2025-08-22 추가)
1. **작업 배정 우선순위**: 사용자가 "작업 시키라고 요청"하면 Claude 작업 전에 즉시 다른 에이전트들에게 작업 배정
2. **실제 구현 강조**: "구축/구현"은 모든 것이 실행 가능한 상태까지 완성하는 의미
3. **파일 네이밍 규칙**: `yyyymmdd_01_xxx` 방식 채택하여 체계적 관리
4. **기억 시스템**: 사용자가 한 번 말한 중요한 지시사항은 자동으로 기억하고 적용
5. **문서 등록**: 중요한 작업이나 결정사항은 즉시 HUB.md, AGENTS.md, GEMINI.md 등에 등록

### 자동 기억 대상
- 사용자의 작업 방식 선호도
- 반복되는 지시사항 패턴  
- 시스템 개선 요구사항
- 에이전트 간 협업 방식 선호도

---

**🎯 Codex의 미션**: 최고 품질의 코드를 통해 시스템의 안정성과 성능을 극대화하고, 개발 팀의 생산성을 향상시키는 것입니다.