### **Gemini CLI 자가 개선 프로젝트: `[P1]` & `[P2]` 상세 로드맵**

**최상위 목표:** `[P0]`에서 확보한 시스템 안정성과 신뢰도를 바탕으로, Gemini CLI의 **작업 범위와 지능의 깊이를 비약적으로 확장**하고, 최종적으로는 인간 전문가와 같은 수준의 **효율성과 사용자 경험을 제공**한다.

---

### **`[P1]` 핵심 기능 확장: '지식 에이전트'로의 진화**

**단계 목표:** 워크스페이스라는 '닫힌 세계'를 넘어, 외부 정보와 능동적으로 상호작용하고, 복잡한 지시를 이해하여 실질적인 결과물을 창출하는 '지식 에이전트'를 구현한다.

#### **미션 `[P1-1]`: '실시간 웹 연동 에이전트' 구현**

* **목표:** 정적인 내부 파일을 넘어, 실시간 외부 정보에 접근하여 문제 해결 능력을 극대화한다.
* **핵심 기능:**
    1.  **`Google Search` 도구 공식 통합:** 내장된 웹 검색 도구를 `runner.py`를 통해 안정적으로 호출할 수 있는 인터페이스를 구축한다.
    2.  **`web_agent.py` 모듈 생성:** `/scripts` 내부에 웹 검색, 결과 스크래핑, `summarizer.py`를 이용한 요약까지 전담하는 모듈을 생성한다.
    3.  **`invoke search` 태스크 도입:** `tasks.py`에 `search` 태스크를 추가하여, 사용자가 `invoke search "검색어"` 형식으로 웹 검색을 직접 지시할 수 있도록 한다.
* **완료 조건:** `invoke search "Python official website"` 실행 시, 검색된 웹 페이지의 핵심 내용이 요약되어 터미널에 출력된다.

#### **미션 `[P1-2]`: '능동형 파일 시스템 에이전트' 구축**

* **목표:** "이 파일의 모든 함수에 주석을 추가해줘"와 같은 고차원적인 자연어 명령을 이해하고, 실제 파일 시스템을 안전하게 수정하는 능력을 확보한다.
* **핵심 기능:**
    1.  **`file_agent.py` 모듈 생성:** 코드 파싱(AST 활용), 리팩토링, 신규 코드 생성 등 복잡한 파일 수정 로직을 전담하는 모듈을 생성한다.
    2.  **`invoke refactor` 태스크 도입:** `tasks.py`에 `refactor` 태스크를 추가한다. `invoke refactor --file <path> --rule "add_docstrings"`와 같은 명령으로 지정된 규칙에 따라 코드를 수정한다.
    3.  **안전 모드(Dry Run) 구현:** 실제 파일을 수정하기 전에, 변경될 내용을 `diff` 형식으로 먼저 사용자에게 보여주고 승인을 받는 안전장치를 `runner.py`에 구현한다.
* **완료 조건:** `invoke refactor` 명령을 통해 특정 Python 파일의 모든 함수에 docstring이 성공적으로 추가된다.

#### **미션 `[P1-3]`: '멀티모달 인식' 기능 준비**

* **목표:** 텍스트를 넘어 이미지와 같은 비정형 데이터를 이해할 수 있는 기반을 마련하여, 향후 UI 디자인을 코드로 변환하는 등의 고급 기능을 준비한다.
* **핵심 기능:**
    1.  **`multimodal_agent.py` 모듈 생성:** 이미지 파일을 입력받아 내장된 `image_to_text` 도구를 호출하고, 이미지에 대한 설명을 텍스트로 반환하는 기본 기능을 구현한다.
    2.  **`invoke analyze-image` 태스크 도입:** `tasks.py`에 `analyze-image` 태스크를 추가한다. `invoke analyze-image <path/to/image.png>` 실행 시, 해당 이미지에 대한 텍스트 설명을 출력한다.
* **완료 조건:** `invoke analyze-image` 명령어로 UI 스크린샷 이미지 파일을 전달했을 때, 이미지 안에 "로그인 버튼"과 "텍스트 입력 필드"가 있다는 식의 텍스트 설명이 반환된다.

---

### **`[P2]` 시스템 최적화 및 사용자 경험: '최종 완성' 단계**

**단계 목표:** `[P1]`에서 확장된 기능들을 더욱 빠르고, 효율적이며, 사용하기 편리하게 만들어 프로젝트를 '완성' 단계로 이끈다.

#### **미션 `[P2-1]`: 성능 및 효율 최적화**

* **목표:** AI의 응답 속도와 자원 사용을 최적화하여, 사용자의 대기 시간을 최소화하고 비용 효율성을 높인다.
* **핵심 기능:**
    1.  **컨텍스트 캐싱(Caching) 도입:** `context/index.json`의 내용을 메모리에 캐싱하여, `invoke start` 시의 인덱싱 시간을 단축시킨다. 파일 변경이 감지될 때만 인덱스를 재구축한다.
    2.  **비동기 태스크 실행:** `invoke end` 시 실행되는 `__lastSession__` 업데이트나 로그 아카이브와 같이, 사용자가 즉시 결과를 기다릴 필요 없는 작업들을 비동기(Asynchronous) 백그라운드 프로세스로 전환한다.
    3.  **`invoke benchmark` 태스크 도입:** 주요 기능(세션 시작, 컨텍스트 검색 등)의 실행 시간을 측정하고 리포트하는 벤치마크 기능을 구현하여 성능 저하를 지속적으로 추적한다.
* **완료 조건:** `invoke start`의 평균 실행 시간이 50% 이상 단축된다.

#### **미션 `[P2-2]`: 고급 다국어 지원**

* **목표:** 한국어 중심의 시스템에서 벗어나, 코드 주석이나 문서 등 영어로 된 컨텍스트를 완벽하게 이해하고 처리하는 능력을 확보한다.
* **핵심 기능:**
    1.  **언어 파일 분리:** `tasks.py` 등 사용자에게 노출되는 모든 메시지를 `locales/ko.json`, `locales/en.json`과 같은 파일로 분리한다.
    2.  **`invoke config --lang <en|ko>` 도입:** 사용자가 CLI의 기본 언어를 동적으로 변경할 수 있는 기능을 추가한다.
    3.  **컨텍스트 엔진의 다국어 처리:** `context_store.py`와 `summarizer.py`가 영어 텍스트를 한국어 텍스트와 동일한 수준의 정확도로 인덱싱하고 요약할 수 있도록 개선한다.
* **완료 조건:** 영어로 작성된 `README.md` 파일을 `invoke start` 시 정확하게 요약하여 브리핑할 수 있다.

#### **미션 `[P2-3]`: 최종 사용자 경험(UX) 개선**

* **목표:** 단순한 텍스트 출력을 넘어, 사용자에게 더 풍부하고 직관적인 인터페이스를 제공한다.
* **핵심 기능:**
    1.  **Rich Terminal Output:** `rich`와 같은 라이브러리를 도입하여, 브리핑, 테스트 결과, 오류 메시지 등을 표, 색상, форматирование을 활용해 시각적으로 보기 좋게 출력한다.
    2.  **대화형 프롬프트(Interactive Prompts):** 중요한 결정(예: 파일 덮어쓰기, 리팩토링 실행) 시, 단순 Y/N이 아닌 화살표 키로 선택할 수 있는 대화형 프롬프트를 제공한다.
    3.  **상세 오류 보고 및 해결책 제안:** 오류 발생 시, 단순 에러 메시지뿐만 아니라, `GEMINI.md`의 관련 규칙이나 `log.md`의 과거 유사 실패 사례를 함께 제시하여 사용자가 직접 문제를 해결할 수 있도록 돕는다.
* **완료 조건:** `invoke test` 실패 시, 실패한 테스트 케이스가 붉은색 표로 정리되어 출력되고, 관련 `log.md`의 디버깅 기록을 함께 보여준다.