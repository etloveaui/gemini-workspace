# Gemini CLI λ„μ›€λ§

> κ°„λ‹¨ν• μ›ν¬ν”λ΅μ°λ” λ£¨νΈμ `AGENTS.md`(Slim+Automation κ°€μ΄λ“)λ¥Ό μ°Έκ³ ν•μ„Έμ”.

## μ‹μ‘ν•κΈ°

μ΄ μ„Ήμ…μ—μ„λ” Gemini CLIλ¥Ό μ‹μ‘ν•λ” λ°©λ²•μ— λ€ν• μ •λ³΄λ¥Ό μ κ³µν•©λ‹λ‹¤.

## λ…λ Ήμ–΄ κ°μ”

μ‚¬μ© κ°€λ¥ν• λ…λ Ήμ–΄μ— λ€ν• κ°μ”μ…λ‹λ‹¤:

* `invoke doctor`: ν™κ²½ μ„¤μ •μ„ ν™•μΈν•©λ‹λ‹¤.
* `invoke quickstart`: λΉ λ¥Έ μ‹μ‘ κ°€μ΄λ“λ¥Ό ν™•μΈν•©λ‹λ‹¤.
* `invoke help [section]`: λ„μ›€λ§ μ •λ³΄λ¥Ό ν‘μ‹ν•©λ‹λ‹¤.
* `invoke search "<query>"`: μ›Ή κ²€μƒ‰μ„ μν–‰ν•κ³  κ²°κ³Όλ¥Ό μ”μ•½ν•©λ‹λ‹¤.
* `invoke refactor`: μ½”λ“ λ¦¬ν©ν† λ§ ν”„λ μ„μ›ν¬λ¥Ό μ‚¬μ©ν•©λ‹λ‹¤. (μ•„λ μƒμ„Έ μ„¤λ… μ°Έμ΅°)

## `invoke refactor` μƒμ„Έ κ°€μ΄λ“

`refactor` νƒμ¤ν¬λ” ν”λ¬κ·ΈμΈ κΈ°λ°μ κ°•λ ¥ν• μ½”λ“ λ¦¬ν©ν† λ§ ν”„λ μ„μ›ν¬λ¥Ό μ κ³µν•©λ‹λ‹¤. AST(μ¶”μƒ κµ¬λ¬Έ νΈλ¦¬)λ¥Ό κΈ°λ°μΌλ΅ μ½”λ“λ¥Ό μ•μ „ν•κ² λ¶„μ„ν•κ³  μμ •ν•  μ μμµλ‹λ‹¤.

### μ‚¬μ©λ²•

- **μ‚¬μ© κ°€λ¥ν• κ·μΉ™ λ©λ΅ λ³΄κΈ°:**
  ```bash
  invoke refactor --list-rules
  ```

- **νΉμ • κ·μΉ™μ— λ€ν• μ„¤λ… λ³΄κΈ°:**
  ```bash
  invoke refactor --explain <κ·μΉ™λ…>
  ```
  *μμ‹: `invoke refactor --explain add_docstrings`*

- **λ¦¬ν©ν† λ§ Dry-Run (λ³€κ²½ μ‚¬ν•­ λ―Έλ¦¬λ³΄κΈ°):**
  ```bash
  invoke refactor --file <νμΌκ²½λ΅> --rule <κ·μΉ™λ…> --dry-run
  ```
  *μ΄ λ…λ Ήμ€ μ‹¤μ  νμΌμ„ μμ •ν•μ§€ μ•κ³ , λ³€κ²½λ  λ‚΄μ©(diff)λ§ ν„°λ―Έλ„μ— μ¶λ ¥ν•©λ‹λ‹¤.*

- **λ¦¬ν©ν† λ§ μ‹¤μ  μ μ©:**
  ```bash
  invoke refactor --file <νμΌκ²½λ΅> --rule <κ·μΉ™λ…> --yes
  ```
  *`--yes` ν”λκ·Έλ¥Ό μ‚¬μ©ν•λ©΄ ν™•μΈ μ μ°¨ μ—†μ΄ μ¦‰μ‹ νμΌμ— λ³€κ²½ μ‚¬ν•­μ΄ μ μ©λ©λ‹λ‹¤.*

### μƒλ΅μ΄ λ¦¬ν©ν† λ§ κ·μΉ™ μ¶”κ°€ν•κΈ°

μ΄ ν”„λ μ„μ›ν¬μ κ°€μ¥ ν° μ¥μ μ€ μƒλ΅μ΄ λ¦¬ν©ν† λ§ κ·μΉ™μ„ λ§¤μ° μ‰½κ² μ¶”κ°€ν•  μ μλ‹¤λ” μ μ…λ‹λ‹¤.

1.  **κ·μΉ™ νμΌ μƒμ„±:**
    - `scripts/agents/rules/` λ””λ ‰ν„°λ¦¬μ— μƒλ΅μ΄ Python νμΌμ„ μƒμ„±ν•©λ‹λ‹¤. (μ: `my_new_rule.py`)

2.  **`RuleBase` μƒμ†:**
    - μƒμ„±ν• νμΌ μ•μ—μ„ `scripts.agents.rules.base`μ `RuleBase` ν΄λμ¤λ¥Ό μƒμ†λ°›λ” μƒλ΅μ΄ ν΄λμ¤λ¥Ό μ •μν•©λ‹λ‹¤.

3.  **ν•„μ ν΄λμ¤ λ³€μ μ •μ:**
    - `name`: CLIμ—μ„ μ‚¬μ©λ  κ·μΉ™μ κ³ μ ν• μ΄λ¦„ (μ: `my_new_rule`)
    - `summary`: κ·μΉ™μ— λ€ν• ν• μ¤„ μ„¤λ…

4.  **`apply` λ©”μ†λ“ κµ¬ν„:**
    - `apply(self, source: str, **kwargs) -> str` λ©”μ†λ“λ¥Ό κµ¬ν„ν•©λ‹λ‹¤. μ΄ λ©”μ†λ“λ” μ›λ³Έ μ†μ¤ μ½”λ“λ¥Ό λ¬Έμμ—΄λ΅ λ°›μ•„, μμ •ν• μ½”λ“λ¥Ό λ¬Έμμ—΄λ΅ λ°ν™ν•©λ‹λ‹¤.
    - `ast` λ¨λ“μ„ μ‚¬μ©ν•μ—¬ μ†μ¤ μ½”λ“λ¥Ό νμ‹±ν•κ³ , μ›ν•λ” λ€λ΅ μμ •ν• ν›„ `ast.unparse()`λ¥Ό μ‚¬μ©ν•μ—¬ λ‹¤μ‹ λ¬Έμμ—΄λ΅ λ³€ν™ν•©λ‹λ‹¤.

5.  **μλ™ λ“±λ΅:**
    - μ„ κ³Όμ •μ„ λ§μΉλ©΄ ν”„λ μ„μ›ν¬κ°€ μλ™μΌλ΅ μƒλ΅μ΄ κ·μΉ™μ„ μΈμ‹ν•©λ‹λ‹¤. λ³„λ„μ λ“±λ΅ μ μ°¨λ” ν•„μ” μ—†μµλ‹λ‹¤. `invoke refactor --list-rules`λ¥Ό μ‹¤ν–‰ν•μ—¬ κ·μΉ™μ΄ μ¶”κ°€λμ—λ”μ§€ λ°”λ΅ ν™•μΈν•  μ μμµλ‹λ‹¤.

**μμ‹ (`my_new_rule.py`):**
# Gemini CLI λ„μ›€λ§

## μ‹μ‘ν•κΈ°

μ΄ μ„Ήμ…μ—μ„λ” Gemini CLIλ¥Ό μ‹μ‘ν•λ” λ°©λ²•μ— λ€ν• μ •λ³΄λ¥Ό μ κ³µν•©λ‹λ‹¤.

## λ…λ Ήμ–΄ κ°μ”

μ‚¬μ© κ°€λ¥ν• λ…λ Ήμ–΄μ— λ€ν• κ°μ”μ…λ‹λ‹¤:

* `invoke doctor`: ν™κ²½ μ„¤μ •μ„ ν™•μΈν•©λ‹λ‹¤.
* `invoke quickstart`: λΉ λ¥Έ μ‹μ‘ κ°€μ΄λ“λ¥Ό ν™•μΈν•©λ‹λ‹¤.
* `invoke help [section]`: λ„μ›€λ§ μ •λ³΄λ¥Ό ν‘μ‹ν•©λ‹λ‹¤.
* `invoke search "<query>"`: μ›Ή κ²€μƒ‰μ„ μν–‰ν•κ³  κ²°κ³Όλ¥Ό μ”μ•½ν•©λ‹λ‹¤.
* `invoke refactor`: μ½”λ“ λ¦¬ν©ν† λ§ ν”„λ μ„μ›ν¬λ¥Ό μ‚¬μ©ν•©λ‹λ‹¤. (μ•„λ μƒμ„Έ μ„¤λ… μ°Έμ΅°)
* `invoke organize-scratchpad`: `scratchpad` λ””λ ‰ν„°λ¦¬λ¥Ό μ •λ¦¬ν•©λ‹λ‹¤. (μ•„λ μƒμ„Έ μ„¤λ… μ°Έμ΅°)

## `invoke refactor` μƒμ„Έ κ°€μ΄λ“

`refactor` νƒμ¤ν¬λ” ν”λ¬κ·ΈμΈ κΈ°λ°μ κ°•λ ¥ν• μ½”λ“ λ¦¬ν©ν† λ§ ν”„λ μ„μ›ν¬λ¥Ό μ κ³µν•©λ‹λ‹¤. AST(μ¶”μƒ κµ¬λ¬Έ νΈλ¦¬)λ¥Ό κΈ°λ°μΌλ΅ μ½”λ“λ¥Ό μ•μ „ν•κ² λ¶„μ„ν•κ³  μμ •ν•  μ μμµλ‹λ‹¤.

### μ‚¬μ©λ²•

- **μ‚¬μ© κ°€λ¥ν• κ·μΉ™ λ©λ΅ λ³΄κΈ°:**
  ```bash
  invoke refactor --list-rules
  ```

- **νΉμ • κ·μΉ™μ— λ€ν• μ„¤λ… λ³΄κΈ°:**
  ```bash
  invoke refactor --explain <κ·μΉ™λ…>
  ```
  *μμ‹: `invoke refactor --explain add_docstrings`*

- **λ¦¬ν©ν† λ§ Dry-Run (λ³€κ²½ μ‚¬ν•­ λ―Έλ¦¬λ³΄κΈ°):**
  ```bash
  invoke refactor --file <νμΌκ²½λ΅> --rule <κ·μΉ™λ…> --dry-run
  ```
  *μ΄ λ…λ Ήμ€ μ‹¤μ  νμΌμ„ μμ •ν•μ§€ μ•κ³ , λ³€κ²½λ  λ‚΄μ©(diff)λ§ ν„°λ―Έλ„μ— μ¶λ ¥ν•©λ‹λ‹¤.*

- **λ¦¬ν©ν† λ§ μ‹¤μ  μ μ©:**
  ```bash
  invoke refactor --file <νμΌκ²½λ΅> --rule <κ·μΉ™λ…> --yes
  ```
  *`--yes` ν”λκ·Έλ¥Ό μ‚¬μ©ν•λ©΄ ν™•μΈ μ μ°¨ μ—†μ΄ μ¦‰μ‹ νμΌμ— λ³€κ²½ μ‚¬ν•­μ΄ μ μ©λ©λ‹λ‹¤.*

### μƒλ΅μ΄ λ¦¬ν©ν† λ§ κ·μΉ™ μ¶”κ°€ν•κΈ°

μ΄ ν”„λ μ„μ›ν¬μ κ°€μ¥ ν° μ¥μ μ€ μƒλ΅μ΄ λ¦¬ν©ν† λ§ κ·μΉ™μ„ λ§¤μ° μ‰½κ² μ¶”κ°€ν•  μ μλ‹¤λ” μ μ…λ‹λ‹¤.

1.  **κ·μΉ™ νμΌ μƒμ„±:**
    - `scripts/agents/rules/` λ””λ ‰ν„°λ¦¬μ— μƒλ΅μ΄ Python νμΌμ„ μƒμ„±ν•©λ‹λ‹¤. (μ: `my_new_rule.py`)

2.  **`RuleBase` μƒμ†:**
    - μƒμ„±ν• νμΌ μ•μ—μ„ `scripts.agents.rules.base`μ `RuleBase` ν΄λμ¤λ¥Ό μƒμ†λ°›λ” μƒλ΅μ΄ ν΄λμ¤λ¥Ό μ •μν•©λ‹λ‹¤.

3.  **ν•„μ ν΄λμ¤ λ³€μ μ •μ:**
    - `name`: CLIμ—μ„ μ‚¬μ©λ  κ·μΉ™μ κ³ μ ν• μ΄λ¦„ (μ: `my_new_rule`)
    - `summary`: κ·μΉ™μ— λ€ν• ν• μ¤„ μ„¤λ…

4.  **`apply` λ©”μ†λ“ κµ¬ν„:**
    - `apply(self, source: str, **kwargs) -> str` λ©”μ†λ“λ¥Ό κµ¬ν„ν•©λ‹λ‹¤. μ΄ λ©”μ†λ“λ” μ›λ³Έ μ†μ¤ μ½”λ“λ¥Ό λ¬Έμμ—΄λ΅ λ°›μ•„, μμ •ν• μ½”λ“λ¥Ό λ¬Έμμ—΄λ΅ λ°ν™ν•©λ‹λ‹¤.
    - `ast` λ¨λ“μ„ μ‚¬μ©ν•μ—¬ μ†μ¤ μ½”λ“λ¥Ό νμ‹±ν•κ³ , μ›ν•λ” λ€λ΅ μμ •ν• ν›„ `ast.unparse()`λ¥Ό μ‚¬μ©ν•μ—¬ λ‹¤μ‹ λ¬Έμμ—΄λ΅ λ³€ν™ν•©λ‹λ‹¤.

5.  **μλ™ λ“±λ΅:**
    - μ„ κ³Όμ •μ„ λ§μΉλ©΄ ν”„λ μ„μ›ν¬κ°€ μλ™μΌλ΅ μƒλ΅μ΄ κ·μΉ™μ„ μΈμ‹ν•©λ‹λ‹¤. λ³„λ„μ λ“±λ΅ μ μ°¨λ” ν•„μ” μ—†μµλ‹λ‹¤. `invoke refactor --list-rules`λ¥Ό μ‹¤ν–‰ν•μ—¬ κ·μΉ™μ΄ μ¶”κ°€λμ—λ”μ§€ λ°”λ΅ ν™•μΈν•  μ μμµλ‹λ‹¤.

**μμ‹ (`my_new_rule.py`):**
```python
import ast
from .base import RuleBase

class MyNewRule(RuleBase):
    """μƒλ΅μ΄ λ¦¬ν©ν† λ§ κ·μΉ™ μμ‹μ…λ‹λ‹¤."""
    
    name = "my_new_rule"
    summary = "λ¨λ“  'pass' κµ¬λ¬Έμ„ 'print(\"Hello World\")'λ΅ λ³€κ²½ν•©λ‹λ‹¤."

    def apply(self, source: str, **kwargs) -> str:
        tree = ast.parse(source)
        
        class PassReplacer(ast.NodeTransformer):
            def visit_Pass(self, node):
                return ast.Expr(value=ast.Call(
                    func=ast.Name(id='print', ctx=ast.Load()),
                    args=[ast.Constant(value='Hello World')],
                    keywords=[]
                ))
        
        new_tree = PassReplacer().visit(tree)
        return ast.unparse(new_tree)
```

## π—‚οΈ `invoke organize-scratchpad`: μ§€λ¥ν• μ¤ν¬λμΉν¨λ“ μ •λ¦¬ λ„κµ¬ (v3.0)

λ¬΄μ§μ„ν• `scratchpad` λ””λ ‰ν„°λ¦¬λ¥Ό μ‚¬μ „ μ •μλ κ·μΉ™μ— λ”°λΌ 5κ°μ μΉ΄ν…κ³ λ¦¬λ΅ μλ™ μ •λ¦¬ν•μ—¬ κ²€μƒ‰μ„±κ³Ό μƒμ‚°μ„±μ„ κ·Ήλ€ν™”ν•©λ‹λ‹¤.

### μ£Όμ” κΈ°λ¥

-   **μ§€λ¥ν• λ¶„λ¥**: νμΌ μ΄λ¦„, κ²½λ΅, λ‚΄μ©μ μΌλ¶€λ¥Ό μ μ κΈ°λ°μΌλ΅ λ¶„μ„ν•μ—¬ μµμ μ μΉ΄ν…κ³ λ¦¬λ΅ μλ™ λ¶„λ¥ν•©λ‹λ‹¤.
-   **μ•μ „ν• μ‚¬μ „ κ²€ν† **: μ‹¤μ  νμΌμ„ μ΄λ™ν•κΈ° μ „, μƒμ„Έν• μ΄λ™ κ³„ν(λ¶„λ¥ κ·Όκ±° μ μ ν¬ν•¨)μ„ ν‘ ν•νƒλ΅ λ―Έλ¦¬ λ³΄μ—¬μ£Όμ–΄ μ‚¬μ©μκ°€ κ²€ν† ν•κ³  μΉμΈν•  μ μμµλ‹λ‹¤.
-   **λ°μ΄ν„° λ³΄μ΅΄**: μ΄λ¦„μ΄ μ¶©λν•λ” νμΌμ€ λ®μ–΄μ“°μ§€ μ•κ³  `_1`, `_2`μ™€ κ°™μ€ μ ‘λ―Έμ‚¬λ¥Ό λ¶™μ—¬ μ•μ „ν•κ² λ³΄μ΅΄ν•©λ‹λ‹¤.
-   **μƒμ„Έ λ΅κΉ…**: λ¨λ“  νμΌ μ΄λ™ λ‚΄μ—­μ€ μ‚¬λμ΄ μ½κΈ° μΆ‹μ€ `organize_log.txt`μ™€ κΈ°κ³„κ°€ μ²λ¦¬ν•κΈ° μΆ‹μ€ `organize_journal.jsonl` λ‘ ν•μ‹μΌλ΅ μλ™ κΈ°λ΅λ©λ‹λ‹¤.
-   **λ©±λ“±μ„±**: μ΄λ―Έ μ •λ¦¬λ νμΌμ€ κ±΄λ„λ›°λ―€λ΅, μ—¬λ¬ λ² μ‹¤ν–‰ν•΄λ„ κ²°κ³Όλ” λ™μΌν•κ² μ μ§€λ©λ‹λ‹¤.

### μ‚¬μ©λ²• λ° μµμ…

```bash
# [κ¶μ¥] μ΄λ™ κ³„νλ§ ν™•μΈ (μ‹¤μ  μ΄λ™ μ—†μ)
invoke organize-scratchpad --dry-run

# κ³„ν κ²€ν†  ν›„, ν™•μΈ μ μ°¨λ¥Ό κ±°μ³ μ‹¤μ  μ΄λ™ μ‹¤ν–‰
invoke organize-scratchpad

# ν™•μΈ μ μ°¨ μ—†μ΄ μ¦‰μ‹ μ‹¤ν–‰ (μλ™ν™” μ¤ν¬λ¦½νΈμ©)
invoke organize-scratchpad --yes
```

## ν™κ²½ λ³€μ

* `SERPER_API_KEY`: Serper.dev API ν‚¤. μ›Ή κ²€μƒ‰ κΈ°λ¥μ„ μ‚¬μ©ν•λ ¤λ©΄ μ΄ λ³€μλ¥Ό μ„¤μ •ν•΄μ•Ό ν•©λ‹λ‹¤.

## μΆ…λ£ μ½”λ“ (Exit Codes)

* `0`: μ •μƒ μΆ…λ£.
* `1`: μΌλ°μ μΈ μ¤λ¥.
* `2`: Provider λ―Έμ„¤μ • λλ” μ‚¬μ© λ¶κ°€ (μ: `SERPER_API_KEY`κ°€ μ„¤μ •λμ§€ μ•μ•κ±°λ‚ μ ν¨ν•μ§€ μ•μ€ κ²½μ°).
* `4`: κΈ°νƒ€ μμ™Έ μ¤λ¥ (νμΌ μ—†μ, κ·μΉ™ μ—†μ, κ²½κ³„ μ„λ° λ“±).

## λ¬Έμ  ν•΄κ²°

μ΄ μ„Ήμ…μ—μ„λ” λ¬Έμ  ν•΄κ²° νμ„ μ κ³µν•©λ‹λ‹¤.

## λ΅μ»¬ λΉ„λ°€ λ³΄νΈ (Windows DPAPI)

Windows DPAPIλ¥Ό μ‚¬μ©ν•μ—¬ λ΅μ»¬ λΉ„λ°€μ„ μ•”νΈν™”ν•κ³  λ³µνΈν™”ν•  μ μμµλ‹λ‹¤. μ΄λ” `pywin32` λΌμ΄λΈλ¬λ¦¬λ¥Ό μ‚¬μ©ν•λ©°, λ™μΌν• PCμ λ™μΌ μ‚¬μ©μλ§ λ³µνΈν™”ν•  μ μμµλ‹λ‹¤.

**μ‚¬μ© λ°©λ²•:**

1.  `scripts/utils/dpapi.py` λ¨λ“μ„ μ„ν¬νΈν•©λ‹λ‹¤.
2.  `encrypt_to_file(plaintext: bytes, path: str)` ν•¨μλ¥Ό μ‚¬μ©ν•μ—¬ ν‰λ¬Έ λ°μ΄ν„°λ¥Ό νμΌμ— μ•”νΈν™”ν•μ—¬ μ €μ¥ν•©λ‹λ‹¤.
3.  `decrypt_from_file(path: str)` ν•¨μλ¥Ό μ‚¬μ©ν•μ—¬ μ•”νΈν™”λ νμΌμ—μ„ λ°μ΄ν„°λ¥Ό λ³µνΈν™”ν•©λ‹λ‹¤.

**μμ‹:**

```python
from scripts.utils.dpapi import encrypt_to_file, decrypt_from_file

# μ•”νΈν™”
plaintext_data = b"my_secret_api_key"
encrypt_to_file(plaintext_data, "./.gemini/my_secret.dat")

# λ³µνΈν™”
decrypted_data = decrypt_from_file("./.gemini/my_secret.dat")
print(decrypted_data.decode())
```

**μ£Όμμ :**

*   μ΄ κΈ°λ¥μ€ **Windows μ „μ©**μ΄λ©°, `pywin32` λΌμ΄λΈλ¬λ¦¬κ°€ ν•„μ”ν•©λ‹λ‹¤.
*   μ•”νΈν™”λ λ°μ΄ν„°λ” **λ™μΌν• PCμ λ™μΌ μ‚¬μ©μ κ³„μ •**μ—μ„λ§ λ³µνΈν™”ν•  μ μμµλ‹λ‹¤. λ‹¤λ¥Έ PCλ‚ λ‹¤λ¥Έ μ‚¬μ©μ κ³„μ •μ—μ„λ” λ³µνΈν™”ν•  μ μ—†μµλ‹λ‹¤.
*   μ•”νΈν™”λ νμΌμ„ λ‹¤λ¥Έ μ‹μ¤ν…μΌλ΅ μ΄λ™ν•΄λ„ λ³µνΈν™”ν•  μ μ—†μµλ‹λ‹¤.

## μμ£Ό λ¬»λ” μ§λ¬Έ

μμ£Ό λ¬»λ” μ§λ¬Έμ…λ‹λ‹¤.

## κ·μΉ™ λ° μ •μ±…

μμ„Έν• κ·μΉ™ λ° μ •μ±…μ€ `GEMINI.md`λ¥Ό μ°Έμ΅°ν•μ‹­μ‹μ¤.


## ν™κ²½ λ³€μ

* `SERPER_API_KEY`: Serper.dev API ν‚¤. μ›Ή κ²€μƒ‰ κΈ°λ¥μ„ μ‚¬μ©ν•λ ¤λ©΄ μ΄ λ³€μλ¥Ό μ„¤μ •ν•΄μ•Ό ν•©λ‹λ‹¤.

## μΆ…λ£ μ½”λ“ (Exit Codes)

* `0`: μ •μƒ μΆ…λ£.
* `1`: μΌλ°μ μΈ μ¤λ¥.
* `2`: Provider λ―Έμ„¤μ • λλ” μ‚¬μ© λ¶κ°€ (μ: `SERPER_API_KEY`κ°€ μ„¤μ •λμ§€ μ•μ•κ±°λ‚ μ ν¨ν•μ§€ μ•μ€ κ²½μ°).
* `4`: κΈ°νƒ€ μμ™Έ μ¤λ¥ (νμΌ μ—†μ, κ·μΉ™ μ—†μ, κ²½κ³„ μ„λ° λ“±).

## λ¬Έμ  ν•΄κ²°

μ΄ μ„Ήμ…μ—μ„λ” λ¬Έμ  ν•΄κ²° νμ„ μ κ³µν•©λ‹λ‹¤.

## λ΅μ»¬ λΉ„λ°€ λ³΄νΈ (Windows DPAPI)

Windows DPAPIλ¥Ό μ‚¬μ©ν•μ—¬ λ΅μ»¬ λΉ„λ°€μ„ μ•”νΈν™”ν•κ³  λ³µνΈν™”ν•  μ μμµλ‹λ‹¤. μ΄λ” `pywin32` λΌμ΄λΈλ¬λ¦¬λ¥Ό μ‚¬μ©ν•λ©°, λ™μΌν• PCμ λ™μΌ μ‚¬μ©μλ§ λ³µνΈν™”ν•  μ μμµλ‹λ‹¤.

**μ‚¬μ© λ°©λ²•:**

1.  `scripts/utils/dpapi.py` λ¨λ“μ„ μ„ν¬νΈν•©λ‹λ‹¤.
2.  `encrypt_to_file(plaintext: bytes, path: str)` ν•¨μλ¥Ό μ‚¬μ©ν•μ—¬ ν‰λ¬Έ λ°μ΄ν„°λ¥Ό νμΌμ— μ•”νΈν™”ν•μ—¬ μ €μ¥ν•©λ‹λ‹¤.
3.  `decrypt_from_file(path: str)` ν•¨μλ¥Ό μ‚¬μ©ν•μ—¬ μ•”νΈν™”λ νμΌμ—μ„ λ°μ΄ν„°λ¥Ό λ³µνΈν™”ν•©λ‹λ‹¤.

**μμ‹:**

```python
from scripts.utils.dpapi import encrypt_to_file, decrypt_from_file

# μ•”νΈν™”
plaintext_data = b"my_secret_api_key"
encrypt_to_file(plaintext_data, "./.gemini/my_secret.dat")

# λ³µνΈν™”
decrypted_data = decrypt_from_file("./.gemini/my_secret.dat")
print(decrypted_data.decode())
```

**μ£Όμμ :**

*   μ΄ κΈ°λ¥μ€ **Windows μ „μ©**μ΄λ©°, `pywin32` λΌμ΄λΈλ¬λ¦¬κ°€ ν•„μ”ν•©λ‹λ‹¤.
*   μ•”νΈν™”λ λ°μ΄ν„°λ” **λ™μΌν• PCμ λ™μΌ μ‚¬μ©μ κ³„μ •**μ—μ„λ§ λ³µνΈν™”ν•  μ μμµλ‹λ‹¤. λ‹¤λ¥Έ PCλ‚ λ‹¤λ¥Έ μ‚¬μ©μ κ³„μ •μ—μ„λ” λ³µνΈν™”ν•  μ μ—†μµλ‹λ‹¤.
*   μ•”νΈν™”λ νμΌμ„ λ‹¤λ¥Έ μ‹μ¤ν…μΌλ΅ μ΄λ™ν•΄λ„ λ³µνΈν™”ν•  μ μ—†μµλ‹λ‹¤.

## μμ£Ό λ¬»λ” μ§λ¬Έ

μμ£Ό λ¬»λ” μ§λ¬Έμ…λ‹λ‹¤.

## κ·μΉ™ λ° μ •μ±…

μμ„Έν• κ·μΉ™ λ° μ •μ±…μ€ `GEMINI.md`λ¥Ό μ°Έμ΅°ν•μ‹­μ‹μ¤.
